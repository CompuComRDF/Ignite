{
  "Version": "2019-10-30",
  "StartAction": "1ab1e276-87f4-4fc9-a3d1-e72f482ae96e",
  "Metadata": {
    "entryPointPosition": {
      "x": 12.8,
      "y": 2.4
    },
    "ActionMetadata": {
      "93e5ada5-b806-403a-b6d9-10336a121bff": {
        "position": {
          "x": 799.2,
          "y": 570.4
        },
        "conditions": [],
        "conditionMetadata": [
          {
            "id": "73c76c36-8f7a-4c8d-841a-8f4678fc9319",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Timeout"
          }
        ]
      },
      "df5af2d0-26ab-4e10-929b-68c50f476185": {
        "position": {
          "x": 800.8,
          "y": 357.6
        },
        "conditions": [],
        "conditionMetadata": [
          {
            "id": "a6087c94-029f-4f5f-8df7-4a0aef0ff16a",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Timeout"
          }
        ]
      },
      "3aba84f5-5552-4d03-b921-4801375fd8fb": {
        "position": {
          "x": 1020,
          "y": 357.6
        },
        "dynamicParams": []
      },
      "82f202bc-6da5-497e-97e3-0462754e5260": {
        "position": {
          "x": 1788,
          "y": 356
        },
        "dynamicParams": []
      },
      "a8c56532-0833-4e7b-84d5-26692f1b31e8": {
        "position": {
          "x": 1024,
          "y": 570.4
        },
        "dynamicParams": []
      },
      "1ab1e276-87f4-4fc9-a3d1-e72f482ae96e": {
        "position": {
          "x": 240,
          "y": 7.2
        }
      },
      "3c143250-f2ea-4600-8828-6eccd9f9bba0": {
        "position": {
          "x": 566.4,
          "y": 570.4
        },
        "parameters": {
          "Text": {
            "useDynamic": true
          },
          "InputEncryption": {
            "EncryptionKeyId": {
              "useDynamic": true
            },
            "Key": {
              "useDynamic": true
            }
          }
        },
        "useDynamic": true,
        "conditionMetadata": [],
        "useDynamicForEncryptionKeys": true,
        "countryCodePrefix": "+1"
      },
      "4b7ebbdb-22ed-4cfd-b566-8285daa53cbc": {
        "position": {
          "x": 564.8,
          "y": 356.8
        },
        "parameters": {
          "Text": {
            "useDynamic": true
          },
          "InputEncryption": {
            "EncryptionKeyId": {
              "useDynamic": true
            },
            "Key": {
              "useDynamic": true
            }
          }
        },
        "useDynamic": true,
        "conditionMetadata": [],
        "useDynamicForEncryptionKeys": true,
        "countryCodePrefix": "+1"
      },
      "e2bed1b0-dcc6-4802-b465-2a12aea07c76": {
        "position": {
          "x": 1850.4,
          "y": 595.2
        },
        "dynamicParams": []
      },
      "1ae3e072-23a0-45cf-82e2-287b065f39d8": {
        "position": {
          "x": 1242.4,
          "y": 569.6
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-CVV": {
              "useDynamic": true
            },
            "Payshield-IVR-KeyID": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-CVV": true,
          "Payshield-IVR-KeyID": true
        },
        "useDynamic": true
      },
      "73f390c3-670e-4e3a-b795-043af9320a92": {
        "position": {
          "x": 1548.8,
          "y": 352.8
        },
        "conditions": [],
        "conditionMetadata": [
          {
            "id": "d19fbb84-a86f-411a-abaa-7834781ec49a",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "16"
          }
        ]
      },
      "05e74ba7-e3ed-45a3-9e9c-97883ab8115b": {
        "position": {
          "x": 1257.6,
          "y": 355.2
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-PAN": {
              "useDynamic": true
            },
            "Payshield-IVR-KeyID": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-PAN": true,
          "Payshield-IVR-KeyID": true
        },
        "useDynamic": true
      },
      "92b06a0f-4241-4b7e-afff-fa7e3ce318ed": {
        "position": {
          "x": 567.2,
          "y": 761.6
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-CustomParameter-Convenience-Fee": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-CustomParameter-Convenience-Fee": true
        },
        "useDynamic": true
      },
      "b8f35f73-a0fa-4e2a-b37e-2c32746f34b9": {
        "position": {
          "x": 570.4,
          "y": 945.6
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-Amount": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-Amount": true,
          "Payshield-IVR-Currency": false
        },
        "useDynamic": true
      },
      "505f6984-7eee-4b1d-9468-8b1542696c39": {
        "position": {
          "x": 571.2,
          "y": 1133.6
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-ExpiryDate": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-ExpiryDate": true
        },
        "useDynamic": true
      },
      "0aff4fb2-f06e-491e-9508-7f6fa86eadee": {
        "position": {
          "x": 574.4,
          "y": 1316.8
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-CustomerReference1": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-ProcessTransaction": false,
          "Payshield-IVR-CustomerReference1": true
        },
        "useDynamic": true
      },
      "a8eac150-7d4d-49ed-a25b-c4142bda7f97": {
        "position": {
          "x": 573.6,
          "y": 1508.8
        },
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "Payshield-IVR-Request-PayshieldTransactionReference": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "Payshield-IVR-Request-PayshieldTransactionReference": true
        },
        "useDynamic": true
      },
      "63bf5ec8-0233-413d-97c0-09a699c8a0cf": {
        "position": {
          "x": 2012.8,
          "y": 360.8
        },
        "parameters": {
          "Attributes": {
            "Payshield-IVR-Response-Status": {
              "useDynamic": true
            },
            "Payshield-IVR-Response-Approved": {
              "useDynamic": true
            },
            "Payshield-IVR-Response-PayshieldTransactionReference": {
              "useDynamic": true
            },
            "Payshield-IVR-Response-Metadata-Moneriscanada-Receipt-Referencenum": {
              "useDynamic": true
            }
          }
        },
        "dynamicParams": [
          "Payshield-IVR-Response-Status",
          "Payshield-IVR-Response-Approved",
          "Payshield-IVR-Response-PayshieldTransactionReference",
          "Payshield-IVR-Response-Metadata-Moneriscanada-Receipt-Referencenum"
        ]
      },
      "8968a908-70ce-4527-ae15-f0786b35e4cf": {
        "position": {
          "x": 842.4,
          "y": 1715.2
        },
        "dynamicParams": []
      },
      "6857c67a-9b6c-402c-be22-677a0561a46f": {
        "position": {
          "x": 848.8,
          "y": 1921.6
        },
        "dynamicParams": []
      },
      "909beccf-98a8-423a-b14b-5027aac47b2b": {
        "position": {
          "x": 238.4,
          "y": 200
        },
        "conditions": [],
        "conditionMetadata": [
          {
            "id": "4839a1b5-c6c5-4b8c-bb41-665921e9217a",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-CustomParameter-Convenience-Fee"
          },
          {
            "id": "63c04259-8e52-476d-b1ae-d12aa0a0d939",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-Amount"
          },
          {
            "id": "3441399b-366b-4d4f-9328-0b789bf161c5",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-PAN"
          },
          {
            "id": "d8a89636-13df-4b24-b71b-1d5eaf7cdb0a",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-CVV"
          },
          {
            "id": "93402563-9659-4b72-8db6-0ce9fc324d01",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-ExpiryDate"
          },
          {
            "id": "19799543-d3ce-4fdf-ad8f-161cebd4e3a2",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-ProcessTransaction"
          },
          {
            "id": "a16fe86b-bb76-4cdd-aa39-7508c4cca7a4",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "Payshield-IVR-Request-PayshieldTransactionReference"
          },
          {
            "id": "87dd354a-a858-42ff-8024-b06d6a3643c2",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "SMS"
          }
        ]
      },
      "This block is incomplete - Need to add manually": {
        "position": {
          "x": 571.2,
          "y": 1712
        },
        "isFriendlyName": true,
        "parameters": {
          "LambdaFunctionARN": {
            "useDynamic": true
          },
          "LambdaInvocationAttributes": {
            "ProjectId": {
              "useDynamic": true
            },
            "PhoneNumber": {
              "useDynamic": true
            },
            "Message": {
              "useDynamic": true
            }
          }
        },
        "dynamicMetadata": {
          "ProjectId": true,
          "PhoneNumber": true,
          "Message": true
        },
        "useDynamic": true
      },
      "a9a1252b-de15-4e27-a836-6ca0bb45bb06": {
        "position": {
          "x": 2834.4,
          "y": 356
        }
      },
      "c5cf0b7c-046b-4cda-82fc-afea0318725b": {
        "position": {
          "x": 2372,
          "y": 355.2
        },
        "parameters": {
          "Attributes": {
            "callFlowID": {
              "useDynamic": true
            }
          }
        },
        "dynamicParams": [
          "callFlowID"
        ]
      },
      "741d6873-62ba-41ee-ba12-fe47a48d135d": {
        "position": {
          "x": 2598.4,
          "y": 357.6
        },
        "parameters": {
          "ContactFlowId": {
            "useDynamic": true
          }
        },
        "useDynamic": true
      }
    },
    "Annotations": [],
    "name": "Connect-RDF-Payments",
    "description": "Payshield Secure Payments IVR",
    "type": "contactFlow",
    "status": "published",
    "hash": {}
  },
  "Actions": [
    {
      "Parameters": {
        "ComparisonValue": "$.StoredCustomerInput"
      },
      "Identifier": "93e5ada5-b806-403a-b6d9-10336a121bff",
      "Type": "Compare",
      "Transitions": {
        "NextAction": "1ae3e072-23a0-45cf-82e2-287b065f39d8",
        "Conditions": [
          {
            "NextAction": "a8c56532-0833-4e7b-84d5-26692f1b31e8",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Timeout"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "1ae3e072-23a0-45cf-82e2-287b065f39d8",
            "ErrorType": "NoMatchingCondition"
          }
        ]
      }
    },
    {
      "Parameters": {
        "ComparisonValue": "$.StoredCustomerInput"
      },
      "Identifier": "df5af2d0-26ab-4e10-929b-68c50f476185",
      "Type": "Compare",
      "Transitions": {
        "NextAction": "05e74ba7-e3ed-45a3-9e9c-97883ab8115b",
        "Conditions": [
          {
            "NextAction": "3aba84f5-5552-4d03-b921-4801375fd8fb",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Timeout"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "05e74ba7-e3ed-45a3-9e9c-97883ab8115b",
            "ErrorType": "NoMatchingCondition"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "Timeout",
          "Payshield-IVR-Response-Approved": "false",
          "Payshield-IVR-Response-TransactionReference-1": " "
        },
        "TargetContact": "Current"
      },
      "Identifier": "3aba84f5-5552-4d03-b921-4801375fd8fb",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "error",
          "Payshield-IVR-Response-Approved": "false",
          "Payshield-IVR-Response-TransactionReference-1": " "
        },
        "TargetContact": "Current"
      },
      "Identifier": "82f202bc-6da5-497e-97e3-0462754e5260",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "Timeout",
          "Payshield-IVR-Response-Approved": "false",
          "Payshield-IVR-Response-TransactionReference-1": " "
        },
        "TargetContact": "Current"
      },
      "Identifier": "a8c56532-0833-4e7b-84d5-26692f1b31e8",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "FlowLoggingBehavior": "Enabled"
      },
      "Identifier": "1ab1e276-87f4-4fc9-a3d1-e72f482ae96e",
      "Type": "UpdateFlowLoggingBehavior",
      "Transitions": {
        "NextAction": "909beccf-98a8-423a-b14b-5027aac47b2b"
      }
    },
    {
      "Parameters": {
        "StoreInput": "True",
        "InputTimeLimitSeconds": "5",
        "Text": "$.Attributes.sequencePrompt",
        "DTMFConfiguration": {
          "DisableCancelKey": "False"
        },
        "InputValidation": {
          "CustomValidation": {
            "MaximumLength": "3"
          }
        },
        "InputEncryption": {
          "EncryptionKeyId": "$.Attributes.sequenceKeyID",
          "Key": "$.Attributes.sequenceKeyCert"
        }
      },
      "Identifier": "3c143250-f2ea-4600-8828-6eccd9f9bba0",
      "Type": "GetParticipantInput",
      "Transitions": {
        "NextAction": "93e5ada5-b806-403a-b6d9-10336a121bff",
        "Errors": [
          {
            "NextAction": "93e5ada5-b806-403a-b6d9-10336a121bff",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "StoreInput": "True",
        "InputTimeLimitSeconds": "5",
        "Text": "$.Attributes.sequencePrompt",
        "DTMFConfiguration": {
          "DisableCancelKey": "False"
        },
        "InputValidation": {
          "CustomValidation": {
            "MaximumLength": "16"
          }
        },
        "InputEncryption": {
          "EncryptionKeyId": "$.Attributes.sequenceKeyID",
          "Key": "$.Attributes.sequenceKeyCert"
        }
      },
      "Identifier": "4b7ebbdb-22ed-4cfd-b566-8285daa53cbc",
      "Type": "GetParticipantInput",
      "Transitions": {
        "NextAction": "df5af2d0-26ab-4e10-929b-68c50f476185",
        "Errors": [
          {
            "NextAction": "df5af2d0-26ab-4e10-929b-68c50f476185",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "false",
          "Payshield-IVR-Response-Approved": "false",
          "Payshield-IVR-Response-TransactionReference-1": " "
        },
        "TargetContact": "Current"
      },
      "Identifier": "e2bed1b0-dcc6-4802-b465-2a12aea07c76",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-CVV": "$.StoredCustomerInput",
          "Payshield-IVR-KeyID": "$.Attributes.sequenceKeyID"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "1ae3e072-23a0-45cf-82e2-287b065f39d8",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "ComparisonValue": "$.External.Payshield-IVR-Response-PAN-Length"
      },
      "Identifier": "73f390c3-670e-4e3a-b795-043af9320a92",
      "Type": "Compare",
      "Transitions": {
        "NextAction": "82f202bc-6da5-497e-97e3-0462754e5260",
        "Conditions": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "16"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "82f202bc-6da5-497e-97e3-0462754e5260",
            "ErrorType": "NoMatchingCondition"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-PAN": "$.StoredCustomerInput",
          "Payshield-IVR-KeyID": "$.Attributes.sequenceKeyID"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "05e74ba7-e3ed-45a3-9e9c-97883ab8115b",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "73f390c3-670e-4e3a-b795-043af9320a92",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-CustomParameter-Convenience-Fee": "$.Attributes.sequenceValue"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "92b06a0f-4241-4b7e-afff-fa7e3ce318ed",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-Amount": "$.Attributes.sequenceValue",
          "Payshield-IVR-Currency": "CAD"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "b8f35f73-a0fa-4e2a-b37e-2c32746f34b9",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-ExpiryDate": "$.Attributes.sequenceValue"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "505f6984-7eee-4b1d-9468-8b1542696c39",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-ProcessTransaction": "true",
          "Payshield-IVR-CustomerReference1": "$.Attributes.sequenceValue"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "0aff4fb2-f06e-491e-9508-7f6fa86eadee",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.sequenceARN",
        "InvocationTimeLimitSeconds": "8",
        "LambdaInvocationAttributes": {
          "Payshield-IVR-Request-PayshieldTransactionReference": "$.Attributes.sequenceValue"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "a8eac150-7d4d-49ed-a25b-c4142bda7f97",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
        "Errors": [
          {
            "NextAction": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "$.External.Payshield-IVR-Response-Status",
          "Payshield-IVR-Response-Approved": "$.External.Payshield-IVR-Response-Approved",
          "Payshield-IVR-Response-PayshieldTransactionReference": "$.External.Payshield-IVR-Response-PayshieldTransactionReference",
          "Payshield-IVR-Response-Metadata-Moneriscanada-Receipt-Referencenum": "$.External.Payshield-IVR-Response-Metadata-Moneriscanada-Receipt-Referencenum"
        },
        "TargetContact": "Current"
      },
      "Identifier": "63bf5ec8-0233-413d-97c0-09a699c8a0cf",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "success"
        },
        "TargetContact": "Current"
      },
      "Identifier": "8968a908-70ce-4527-ae15-f0786b35e4cf",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Attributes": {
          "Payshield-IVR-Response-Status": "error"
        },
        "TargetContact": "Current"
      },
      "Identifier": "6857c67a-9b6c-402c-be22-677a0561a46f",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
        "Errors": [
          {
            "NextAction": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "ComparisonValue": "$.Attributes.sequenceParam"
      },
      "Identifier": "909beccf-98a8-423a-b14b-5027aac47b2b",
      "Type": "Compare",
      "Transitions": {
        "NextAction": "e2bed1b0-dcc6-4802-b465-2a12aea07c76",
        "Conditions": [
          {
            "NextAction": "92b06a0f-4241-4b7e-afff-fa7e3ce318ed",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-CustomParameter-Convenience-Fee"
              ]
            }
          },
          {
            "NextAction": "b8f35f73-a0fa-4e2a-b37e-2c32746f34b9",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-Amount"
              ]
            }
          },
          {
            "NextAction": "4b7ebbdb-22ed-4cfd-b566-8285daa53cbc",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-PAN"
              ]
            }
          },
          {
            "NextAction": "3c143250-f2ea-4600-8828-6eccd9f9bba0",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-CVV"
              ]
            }
          },
          {
            "NextAction": "505f6984-7eee-4b1d-9468-8b1542696c39",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-ExpiryDate"
              ]
            }
          },
          {
            "NextAction": "0aff4fb2-f06e-491e-9508-7f6fa86eadee",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-ProcessTransaction"
              ]
            }
          },
          {
            "NextAction": "a8eac150-7d4d-49ed-a25b-c4142bda7f97",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Payshield-IVR-Request-PayshieldTransactionReference"
              ]
            }
          },
          {
            "NextAction": "This block is incomplete - Need to add manually",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "SMS"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "e2bed1b0-dcc6-4802-b465-2a12aea07c76",
            "ErrorType": "NoMatchingCondition"
          }
        ]
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "$.Attributes.TBD",
        "InvocationTimeLimitSeconds": "8",
        "InvocationType": "SYNCHRONOUS",
        "LambdaInvocationAttributes": {
          "ProjectId": "$.Attributes.sequenceProjID",
          "PhoneNumber": "$.Attributes.sequenceValue",
          "Message": "$.Attributes.sequencePrompt"
        },
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "This block is incomplete - Need to add manually",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "8968a908-70ce-4527-ae15-f0786b35e4cf",
        "Errors": [
          {
            "NextAction": "6857c67a-9b6c-402c-be22-677a0561a46f",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {},
      "Identifier": "a9a1252b-de15-4e27-a836-6ca0bb45bb06",
      "Type": "DisconnectParticipant",
      "Transitions": {}
    },
    {
      "Parameters": {
        "Attributes": {
          "callFlowID": "$.Attributes.blockAction",
          "sequenceParam": " ",
          "sequenceValue": " ",
          "sequenceARN": " ",
          "sequenceKeyID": " ",
          "sequenceProjID": " ",
          "sequenceKeyCert": " ",
          "sequencePrompt": " "
        },
        "TargetContact": "Current"
      },
      "Identifier": "c5cf0b7c-046b-4cda-82fc-afea0318725b",
      "Type": "UpdateContactAttributes",
      "Transitions": {
        "NextAction": "741d6873-62ba-41ee-ba12-fe47a48d135d",
        "Errors": [
          {
            "NextAction": "741d6873-62ba-41ee-ba12-fe47a48d135d",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "ContactFlowId": "$.Attributes.ConnectRDFMainID"
      },
      "Identifier": "741d6873-62ba-41ee-ba12-fe47a48d135d",
      "Type": "TransferToFlow",
      "Transitions": {
        "NextAction": "a9a1252b-de15-4e27-a836-6ca0bb45bb06",
        "Errors": [
          {
            "NextAction": "a9a1252b-de15-4e27-a836-6ca0bb45bb06",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    }
  ]
}