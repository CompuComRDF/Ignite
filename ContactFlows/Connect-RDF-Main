{"Version":"2019-10-30","StartAction":"54d367ff-06de-4571-9769-4b544978560c","Metadata":{"entryPointPosition":{"x":-81.6,"y":88.8},"ActionMetadata":{"5ad94aa1-d98a-4dc9-bf5a-ee073bfeb32c":{"position":{"x":1771.2,"y":556.8},"dynamicParams":[]},"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3":{"position":{"x":3186.4,"y":1839.2}},"fb509025-3fd6-4631-a97c-7141bef28ede":{"position":{"x":656.8,"y":540}},"54d367ff-06de-4571-9769-4b544978560c":{"position":{"x":136.8,"y":-119.2},"conditions":[],"conditionMetadata":[{"id":"aa8872cb-d183-4d7a-b9df-0023eab2bd3b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"DISCONNECT"}]},"f0505d0d-1bef-408f-a83a-e4d8d0f36698":{"position":{"x":393.6,"y":60},"parameters":{"LambdaFunctionARN":{"useDynamic":true},"LambdaInvocationAttributes":{"blockKey":{"useDynamic":true},"session":{"useDynamic":true},"error":{"useDynamic":true}}},"dynamicMetadata":{"blockKey":true,"session":true,"error":true,"function":false},"useDynamic":true},"2f905779-ef90-40b8-87e6-789a153018ba":{"position":{"x":1770.4,"y":766.4},"parameters":{"FlowModuleId":{"displayName":"Connect-RDF-Languages"}},"contactFlowModuleName":"Connect-RDF-Languages"},"6e28192d-93fd-4ff7-8df9-335733cf7f74":{"position":{"x":1776,"y":1138.4},"dynamicParams":[]},"f4d66b88-3702-4735-8172-831cc9e09d29":{"position":{"x":2072.8,"y":1406.4},"parameters":{"Attributes":{"blockAction":{"useDynamic":true}}},"dynamicParams":["blockAction"]},"0c640c86-f778-45da-883b-60c243090480":{"position":{"x":1784.8,"y":1410.4}},"11613f86-9152-4f93-8d0c-44ace7591ad1":{"position":{"x":2076.8,"y":1624.8},"dynamicParams":[]},"e428d7e8-82a5-4e4d-a580-da3e6d1241c4":{"position":{"x":655.2,"y":68.8},"conditions":[],"conditionMetadata":[{"id":"7bd6b420-f33e-479f-8ed1-a3b7f72d11ac","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"e1b3279e-817d-4351-92a7-19556f6ad503":{"position":{"x":1500,"y":588.8},"parameters":{"ThirdPartyPhoneNumber":{"useDynamic":true}}},"9cc5d743-bde2-47e2-819a-3639de7f9a0b":{"position":{"x":1767.2,"y":352},"parameters":{"ContactFlowId":{"displayName":"Connect-RDF-Play"}},"ContactFlow":{"text":"Connect-RDF-Play"}},"6f754e6c-80d7-4d63-9f3f-260da23e9f67":{"position":{"x":1492,"y":225.6},"parameters":{"QueueId":{"useDynamic":true}},"useDynamic":true},"5d9a6971-8a51-4672-b6d2-c7f46a21ec14":{"position":{"x":1497.6,"y":764.8},"parameters":{"Attributes":{"promptType":{"useDynamic":true}}},"dynamicParams":["promptType"]},"d0ee883c-640f-4115-8c2b-5fad5c934c3e":{"position":{"x":1494.4,"y":998.4},"parameters":{"QueueId":{"useDynamic":true}},"useDynamic":true},"e7ad60b8-1b11-42d4-9dd6-4363bb639f70":{"position":{"x":1498.4,"y":1407.2},"parameters":{"Attributes":{"callFlowID":{"useDynamic":true}}},"dynamicParams":["callFlowID"]},"658017b0-5faa-48f1-8b52-9c11b1099576":{"position":{"x":2780.8,"y":75.2},"parameters":{"Attributes":{"callFlowID":{"useDynamic":true}}},"dynamicParams":["callFlowID"]},"7c177ba4-ec70-4941-9b3f-1bf5d601f2e6":{"position":{"x":656.8,"y":324},"parameters":{"Attributes":{"contactDisposition":{"useDynamic":true},"agentTip":{"useDynamic":true},"userData":{"useDynamic":true},"session":{"useDynamic":true},"blockAction":{"useDynamic":true},"blockParam":{"useDynamic":true},"barge":{"useDynamic":true},"promptIndex":{"useDynamic":true},"promptSize":{"useDynamic":true},"blockType":{"useDynamic":true},"actionTrue":{"useDynamic":true},"actionFalse":{"useDynamic":true},"language":{"useDynamic":true},"resetQueue":{"useDynamic":true}}},"dynamicParams":["contactDisposition","agentTip","userData","session","blockAction","blockParam","barge","promptIndex","promptSize","blockType","actionTrue","actionFalse","language","resetQueue"]},"2fee6984-6e55-4b92-9db1-68f056e6b793":{"position":{"x":1055.2,"y":336.8},"conditions":[],"conditionMetadata":[{"id":"36d95660-7de8-44d1-9a8e-eb622267d7fb","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"TREE"},{"id":"96e8561c-d214-4460-94bb-7ebd7b905293","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PLAY"},{"id":"4838ea55-d38f-4fcc-9f1e-34572826ed05","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"MENU"},{"id":"ea06ded8-96b4-4efc-a553-a48a54a6cb8c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"INPUT"},{"id":"d144ad83-5b4b-484a-b8a1-887fa97f4234","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"RECORD"},{"id":"4060534f-e2fc-4157-9ed8-a6bd662457a2","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"XFER"},{"id":"f451cad9-c06e-45e9-85c0-0659442056d1","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"LANGUAGE"},{"id":"3cc8a1a1-9b2c-4123-b4dc-2afee342aabf","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"SETQUEUE"},{"id":"d302e89b-3062-47b2-80c5-fb51416f6dc9","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"QUEUE"}]}},"Annotations":[],"name":"Connect-RDF-Main","description":"USED BY IGNITE-RDF","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{"Attributes":{"errorMessage":"Transfer to Phone Number Failure","blockAction":"ERROR"},"TargetContact":"Current"},"Identifier":"5ad94aa1-d98a-4dc9-bf5a-ee073bfeb32c","Type":"UpdateContactAttributes","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Errors":[{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"Sorry.  We are experiencing technical difficulties.  Please try your call again later.  Goodbye."},"Identifier":"fb509025-3fd6-4631-a97c-7141bef28ede","Type":"MessageParticipant","Transitions":{"NextAction":"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3","Errors":[{"NextAction":"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.callFlowID"},"Identifier":"54d367ff-06de-4571-9769-4b544978560c","Type":"Compare","Transitions":{"NextAction":"f0505d0d-1bef-408f-a83a-e4d8d0f36698","Conditions":[{"NextAction":"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3","Condition":{"Operator":"Equals","Operands":["DISCONNECT"]}}],"Errors":[{"NextAction":"f0505d0d-1bef-408f-a83a-e4d8d0f36698","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LambdaFunctionARN":"$.Attributes.RDF","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"blockKey":"$.Attributes.callFlowID","session":"$.Attributes.session","error":"$.Attributes.errorMessage","function":"controller"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"f0505d0d-1bef-408f-a83a-e4d8d0f36698","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"e428d7e8-82a5-4e4d-a580-da3e6d1241c4","Errors":[{"NextAction":"e428d7e8-82a5-4e4d-a580-da3e6d1241c4","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowModuleId":"b1383042-63a7-433a-8be8-7c91ab0101e8"},"Identifier":"2f905779-ef90-40b8-87e6-789a153018ba","Type":"InvokeFlowModule","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Errors":[{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"errorMessage":"Set Queue Failure","blockAction":"ERROR"},"TargetContact":"Current"},"Identifier":"6e28192d-93fd-4ff7-8df9-335733cf7f74","Type":"UpdateContactAttributes","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Errors":[{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"blockAction":"$.Attributes.actionFalse"},"TargetContact":"Current"},"Identifier":"f4d66b88-3702-4735-8172-831cc9e09d29","Type":"UpdateContactAttributes","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Errors":[{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"0c640c86-f778-45da-883b-60c243090480","Type":"TransferContactToQueue","Transitions":{"NextAction":"11613f86-9152-4f93-8d0c-44ace7591ad1","Errors":[{"NextAction":"f4d66b88-3702-4735-8172-831cc9e09d29","ErrorType":"QueueAtCapacity"},{"NextAction":"11613f86-9152-4f93-8d0c-44ace7591ad1","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"errorMessage":"Transfer to Queue Failure","blockAction":"ERROR"},"TargetContact":"Current"},"Identifier":"11613f86-9152-4f93-8d0c-44ace7591ad1","Type":"UpdateContactAttributes","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Errors":[{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.statusCode"},"Identifier":"e428d7e8-82a5-4e4d-a580-da3e6d1241c4","Type":"Compare","Transitions":{"NextAction":"fb509025-3fd6-4631-a97c-7141bef28ede","Conditions":[{"NextAction":"7c177ba4-ec70-4941-9b3f-1bf5d601f2e6","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"fb509025-3fd6-4631-a97c-7141bef28ede","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"ThirdPartyPhoneNumber":"$.Attributes.blockParam","ThirdPartyConnectionTimeLimitSeconds":"30","ContinueFlowExecution":"False"},"Identifier":"e1b3279e-817d-4351-92a7-19556f6ad503","Type":"TransferParticipantToThirdParty","Transitions":{"NextAction":"5ad94aa1-d98a-4dc9-bf5a-ee073bfeb32c","Errors":[{"NextAction":"5ad94aa1-d98a-4dc9-bf5a-ee073bfeb32c","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:ca-central-1:590183736637:instance/9e3adf7f-ad34-4a36-ad56-d98502169010/contact-flow/71010f2e-4234-4ef5-b789-81795ca84a79"},"Identifier":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","Type":"TransferToFlow","Transitions":{"NextAction":"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3","Errors":[{"NextAction":"deece5ef-0d7b-4683-8dd5-5158aa1eb0a3","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"$.Attributes.blockAction"},"Identifier":"6f754e6c-80d7-4d63-9f3f-260da23e9f67","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","Errors":[{"NextAction":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"promptType":"$.Attributes.blockParam"},"TargetContact":"Current"},"Identifier":"5d9a6971-8a51-4672-b6d2-c7f46a21ec14","Type":"UpdateContactAttributes","Transitions":{"NextAction":"2f905779-ef90-40b8-87e6-789a153018ba","Errors":[{"NextAction":"2f905779-ef90-40b8-87e6-789a153018ba","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"$.Attributes.blockParam"},"Identifier":"d0ee883c-640f-4115-8c2b-5fad5c934c3e","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Errors":[{"NextAction":"6e28192d-93fd-4ff7-8df9-335733cf7f74","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"callFlowID":"$.Attributes.blockAction"},"TargetContact":"Current"},"Identifier":"e7ad60b8-1b11-42d4-9dd6-4363bb639f70","Type":"UpdateContactAttributes","Transitions":{"NextAction":"0c640c86-f778-45da-883b-60c243090480","Errors":[{"NextAction":"0c640c86-f778-45da-883b-60c243090480","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"callFlowID":"$.Attributes.blockAction"},"TargetContact":"Current"},"Identifier":"658017b0-5faa-48f1-8b52-9c11b1099576","Type":"UpdateContactAttributes","Transitions":{"NextAction":"54d367ff-06de-4571-9769-4b544978560c","Errors":[{"NextAction":"54d367ff-06de-4571-9769-4b544978560c","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"contactDisposition":"$.External.contactDisposition","agentTip":"$.External.agentTip","userData":"$.External.userData","session":"$.External.session","blockAction":"$.External.blockAction","blockParam":"$.External.blockParam","barge":"$.External.barge","promptIndex":"$.External.promptIndex","promptSize":"$.External.promptSize","blockType":"$.External.blockType","actionTrue":"$.External.actionTrue","actionFalse":"$.External.actionFalse","language":"$.External.language","resetQueue":"$.External.resetQueue"},"TargetContact":"Current"},"Identifier":"7c177ba4-ec70-4941-9b3f-1bf5d601f2e6","Type":"UpdateContactAttributes","Transitions":{"NextAction":"2fee6984-6e55-4b92-9db1-68f056e6b793","Errors":[{"NextAction":"2fee6984-6e55-4b92-9db1-68f056e6b793","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.blockType"},"Identifier":"2fee6984-6e55-4b92-9db1-68f056e6b793","Type":"Compare","Transitions":{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","Conditions":[{"NextAction":"6f754e6c-80d7-4d63-9f3f-260da23e9f67","Condition":{"Operator":"Equals","Operands":["TREE"]}},{"NextAction":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","Condition":{"Operator":"Equals","Operands":["PLAY"]}},{"NextAction":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","Condition":{"Operator":"Equals","Operands":["MENU"]}},{"NextAction":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","Condition":{"Operator":"Equals","Operands":["INPUT"]}},{"NextAction":"9cc5d743-bde2-47e2-819a-3639de7f9a0b","Condition":{"Operator":"Equals","Operands":["RECORD"]}},{"NextAction":"e1b3279e-817d-4351-92a7-19556f6ad503","Condition":{"Operator":"Equals","Operands":["XFER"]}},{"NextAction":"5d9a6971-8a51-4672-b6d2-c7f46a21ec14","Condition":{"Operator":"Equals","Operands":["LANGUAGE"]}},{"NextAction":"d0ee883c-640f-4115-8c2b-5fad5c934c3e","Condition":{"Operator":"Equals","Operands":["SETQUEUE"]}},{"NextAction":"e7ad60b8-1b11-42d4-9dd6-4363bb639f70","Condition":{"Operator":"Equals","Operands":["QUEUE"]}}],"Errors":[{"NextAction":"658017b0-5faa-48f1-8b52-9c11b1099576","ErrorType":"NoMatchingCondition"}]}}]}