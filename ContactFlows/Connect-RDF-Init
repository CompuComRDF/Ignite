{"Version":"2019-10-30","StartAction":"939fda52-68a0-4aab-8607-06a7e1488413","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"5ca57f12-8d47-4d22-af38-ee6f6653f0fd":{"position":{"x":1483.2,"y":48},"conditions":[],"conditionMetadata":[{"id":"d5f85135-d7e9-414b-a190-1cd995043f66","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"on"}]},"ba358679-4d1a-47b5-a522-7f2c8ca631fd":{"position":{"x":1749.6,"y":54.4},"conditions":[],"conditionMetadata":[{"id":"16e9d59e-3b41-4da3-a72e-0f871b14875c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"on"}]},"a8abb7b5-b21a-49b0-9a6c-8663bc32debd":{"position":{"x":1754.4,"y":328.8},"conditions":[],"conditionMetadata":[{"id":"fa6e1d09-5ce4-478d-8973-6dd47fe4de47","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"on"}]},"71098510-199b-473c-8aa1-335902906ac7":{"position":{"x":2051.2,"y":52.8}},"f357de47-4c12-427d-bf05-72a8182c6aee":{"position":{"x":2051.2,"y":220.8}},"2b1dc2f4-2755-403e-812a-b42b46099f6d":{"position":{"x":2050.4,"y":437.6}},"701129cd-16da-44a6-8657-44546072e237":{"position":{"x":2052,"y":622.4}},"ce43bc0c-45a6-4502-b2b4-2acdc1da3123":{"position":{"x":2365.6,"y":53.6},"parameters":{"EventHooks":{"CustomerQueue":{"useDynamic":true}}},"useDynamic":true,"customerOrAgent":true},"b974fef7-ea56-4ab0-8edf-fb7cac228d55":{"position":{"x":2620.8,"y":53.6},"parameters":{"EventHooks":{"AgentWhisper":{"useDynamic":true}}},"useDynamic":true,"customerOrAgent":false},"def46fc9-f783-40d4-9fad-cdb954ccd9d9":{"position":{"x":2877.6,"y":55.2},"parameters":{"Attributes":{"CPA":{"useDynamic":true},"language":{"useDynamic":true},"session":{"useDynamic":true}}},"dynamicParams":["CPA","language","session"]},"a0c9ae70-0ca1-4a8e-9fa0-2986e9034733":{"position":{"x":3129.6,"y":60},"parameters":{"ContactFlowId":{"displayName":"Connect-RDF-Main"}},"ContactFlow":{"text":"Connect-RDF-Main"}},"9e4cc041-9724-47a9-a09c-87e860f75fb9":{"position":{"x":3412.8,"y":456.8}},"03bcb226-c6aa-4c39-bbf0-16e1526e4da4":{"position":{"x":1195.2,"y":47.2},"conditions":[],"conditionMetadata":[{"id":"358e5187-770e-48f2-833f-57d878c627d3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"f283917b-50e5-496a-8014-c56ee78de4ca":{"position":{"x":3137.6,"y":451.2}},"514ac0e0-6781-4729-a0b2-73fc339bd86a":{"position":{"x":902.4,"y":38.4},"parameters":{"LambdaFunctionARN":{"useDynamic":true}},"dynamicMetadata":{"function":false},"useDynamic":true},"939fda52-68a0-4aab-8607-06a7e1488413":{"position":{"x":165.6,"y":30.4},"parameters":{"Attributes":{"ANI":{"useDynamic":true}}},"dynamicParams":["ANI"]},"37131a78-f6cd-4cb5-8d32-69f4e60fb7bd":{"position":{"x":644,"y":36},"parameters":{"FlowModuleId":{"displayName":"Connect-RDF-Languages"}},"contactFlowModuleName":"Connect-RDF-Languages"},"d64312b2-e4b1-4641-bdcc-6c76dbca9a37":{"position":{"x":397.6,"y":33.6}}},"Annotations":[],"name":"Connect-RDF-Init","description":"","type":"contactFlow","status":"PUBLISHED","hash":{}},"Actions":[{"Parameters":{"ComparisonValue":"$.External.speechAnalytics"},"Identifier":"5ca57f12-8d47-4d22-af38-ee6f6653f0fd","Type":"Compare","Transitions":{"NextAction":"a8abb7b5-b21a-49b0-9a6c-8663bc32debd","Conditions":[{"NextAction":"ba358679-4d1a-47b5-a522-7f2c8ca631fd","Condition":{"Operator":"Equals","Operands":["on"]}}],"Errors":[{"NextAction":"a8abb7b5-b21a-49b0-9a6c-8663bc32debd","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"ComparisonValue":"$.External.chatAnalytics"},"Identifier":"ba358679-4d1a-47b5-a522-7f2c8ca631fd","Type":"Compare","Transitions":{"NextAction":"f357de47-4c12-427d-bf05-72a8182c6aee","Conditions":[{"NextAction":"71098510-199b-473c-8aa1-335902906ac7","Condition":{"Operator":"Equals","Operands":["on"]}}],"Errors":[{"NextAction":"f357de47-4c12-427d-bf05-72a8182c6aee","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"ComparisonValue":"$.External.chatAnalytics"},"Identifier":"a8abb7b5-b21a-49b0-9a6c-8663bc32debd","Type":"Compare","Transitions":{"NextAction":"701129cd-16da-44a6-8657-44546072e237","Conditions":[{"NextAction":"2b1dc2f4-2755-403e-812a-b42b46099f6d","Condition":{"Operator":"Equals","Operands":["on"]}}],"Errors":[{"NextAction":"701129cd-16da-44a6-8657-44546072e237","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"RecordingBehavior":{"RecordedParticipants":["Agent","Customer"]},"AnalyticsBehavior":{"Enabled":"True","AnalyticsLanguage":"en-US","AnalyticsRedactionBehavior":"Enabled","AnalyticsRedactionResults":"RedactedAndOriginal","AnalyticsRedactionMaskMode":"PII","ChannelConfiguration":{"Chat":{"AnalyticsModes":["ContactLens"]},"Voice":{"AnalyticsModes":["RealTime"]}}}},"Identifier":"71098510-199b-473c-8aa1-335902906ac7","Type":"UpdateContactRecordingBehavior","Transitions":{"NextAction":"ce43bc0c-45a6-4502-b2b4-2acdc1da3123"}},{"Parameters":{"RecordingBehavior":{"RecordedParticipants":["Agent","Customer"]},"AnalyticsBehavior":{"Enabled":"True","AnalyticsLanguage":"en-US","AnalyticsRedactionBehavior":"Enabled","AnalyticsRedactionResults":"RedactedAndOriginal","AnalyticsRedactionMaskMode":"PII","ChannelConfiguration":{"Chat":{"AnalyticsModes":[]},"Voice":{"AnalyticsModes":["PostContact"]}}}},"Identifier":"f357de47-4c12-427d-bf05-72a8182c6aee","Type":"UpdateContactRecordingBehavior","Transitions":{"NextAction":"ce43bc0c-45a6-4502-b2b4-2acdc1da3123"}},{"Parameters":{"RecordingBehavior":{"RecordedParticipants":["Agent","Customer"]},"AnalyticsBehavior":{"Enabled":"True","AnalyticsLanguage":"en-US","AnalyticsRedactionBehavior":"Enabled","AnalyticsRedactionResults":"RedactedAndOriginal","AnalyticsRedactionMaskMode":"PII","ChannelConfiguration":{"Chat":{"AnalyticsModes":["ContactLens"]},"Voice":{"AnalyticsModes":[]}}}},"Identifier":"2b1dc2f4-2755-403e-812a-b42b46099f6d","Type":"UpdateContactRecordingBehavior","Transitions":{"NextAction":"ce43bc0c-45a6-4502-b2b4-2acdc1da3123"}},{"Parameters":{"RecordingBehavior":{"RecordedParticipants":["Agent","Customer"]}},"Identifier":"701129cd-16da-44a6-8657-44546072e237","Type":"UpdateContactRecordingBehavior","Transitions":{"NextAction":"ce43bc0c-45a6-4502-b2b4-2acdc1da3123"}},{"Parameters":{"EventHooks":{"CustomerQueue":"$.External.QueueFlowID"}},"Identifier":"ce43bc0c-45a6-4502-b2b4-2acdc1da3123","Type":"UpdateContactEventHooks","Transitions":{"NextAction":"b974fef7-ea56-4ab0-8edf-fb7cac228d55","Errors":[{"NextAction":"b974fef7-ea56-4ab0-8edf-fb7cac228d55","ErrorType":"NoMatchingError"}]}},{"Parameters":{"EventHooks":{"AgentWhisper":"$.External.AgentWhisperFlowID"}},"Identifier":"b974fef7-ea56-4ab0-8edf-fb7cac228d55","Type":"UpdateContactEventHooks","Transitions":{"NextAction":"def46fc9-f783-40d4-9fad-cdb954ccd9d9","Errors":[{"NextAction":"def46fc9-f783-40d4-9fad-cdb954ccd9d9","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CPA":"$.External.connectFlowType","language":"$.External.language","session":"$.External.session"},"TargetContact":"Current"},"Identifier":"def46fc9-f783-40d4-9fad-cdb954ccd9d9","Type":"UpdateContactAttributes","Transitions":{"NextAction":"a0c9ae70-0ca1-4a8e-9fa0-2986e9034733","Errors":[{"NextAction":"a0c9ae70-0ca1-4a8e-9fa0-2986e9034733","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:ca-central-1:590183736637:instance/9e3adf7f-ad34-4a36-ad56-d98502169010/contact-flow/4aed4d0e-eeb5-4fde-b379-bc6c92370f4c"},"Identifier":"a0c9ae70-0ca1-4a8e-9fa0-2986e9034733","Type":"TransferToFlow","Transitions":{"NextAction":"f283917b-50e5-496a-8014-c56ee78de4ca","Errors":[{"NextAction":"f283917b-50e5-496a-8014-c56ee78de4ca","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"9e4cc041-9724-47a9-a09c-87e860f75fb9","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"ComparisonValue":"$.External.statusCode"},"Identifier":"03bcb226-c6aa-4c39-bbf0-16e1526e4da4","Type":"Compare","Transitions":{"NextAction":"f283917b-50e5-496a-8014-c56ee78de4ca","Conditions":[{"NextAction":"5ca57f12-8d47-4d22-af38-ee6f6653f0fd","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"f283917b-50e5-496a-8014-c56ee78de4ca","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"Sorry.  We are experiencing technical difficulties.  Please try your call again later.  Goodbye."},"Identifier":"f283917b-50e5-496a-8014-c56ee78de4ca","Type":"MessageParticipant","Transitions":{"NextAction":"9e4cc041-9724-47a9-a09c-87e860f75fb9","Errors":[{"NextAction":"9e4cc041-9724-47a9-a09c-87e860f75fb9","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"$.Attributes.RDF","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"function":"initialize"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"514ac0e0-6781-4729-a0b2-73fc339bd86a","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"03bcb226-c6aa-4c39-bbf0-16e1526e4da4","Errors":[{"NextAction":"f283917b-50e5-496a-8014-c56ee78de4ca","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"callFlowID":"init","errorMessage":"NA","RDF":"arn:aws:lambda:ca-central-1:905418007342:function:Ignite-RDF:dev","ANI":"$.CustomerEndpoint.Address"},"TargetContact":"Current"},"Identifier":"939fda52-68a0-4aab-8607-06a7e1488413","Type":"UpdateContactAttributes","Transitions":{"NextAction":"d64312b2-e4b1-4641-bdcc-6c76dbca9a37","Errors":[{"NextAction":"d64312b2-e4b1-4641-bdcc-6c76dbca9a37","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowModuleId":"b1383042-63a7-433a-8be8-7c91ab0101e8"},"Identifier":"37131a78-f6cd-4cb5-8d32-69f4e60fb7bd","Type":"InvokeFlowModule","Transitions":{"NextAction":"514ac0e0-6781-4729-a0b2-73fc339bd86a","Errors":[{"NextAction":"514ac0e0-6781-4729-a0b2-73fc339bd86a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"d64312b2-e4b1-4641-bdcc-6c76dbca9a37","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"37131a78-f6cd-4cb5-8d32-69f4e60fb7bd"}}]}